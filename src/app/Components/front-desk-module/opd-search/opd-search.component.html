
<div *ngIf="islload">
    <div class="d-flex justify-content-center">
        <div class="spinner-border" role="status" >
          <span class="sr-only" id="loading"></span>
        </div>
      </div>
    </div>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" />
    <div class="card-body">
       
       <form [formGroup]="searchform" #search="ngForm" (ngSubmit)="SearchPatients(search.value)">
        <div class="form-row">
            <div class="input-group col-md-3 mb-4">
            <div class="input-group">
                <input
                    class="form-control"
                    placeholder="From Date"
                    name="dp"
                    [value]="model"
                    ngbDatepicker
                    #d="ngbDatepicker"
                   [maxDate]="maxDate" id="fdate"   (dateSelect)="onDateSelectfromdate($event)"   name="FromDate"   formControlName="FromDate"
                />
              
                <button class="btn btn-outline-secondary bi bi-calendar3" (click)="d.toggle()" type="button"></button>
            </div></div>
              <!-- <div class="input-group col-md-4 mb-4">
                <input type="date" class="form-control" value="{{today}}"     name="FromDate"   formControlName="FromDate"
                    placeholder="From Date">
              
           
            </div> -->
            <div  class="input-group col-md-3 mb-4" >
                <div class="input-group" >
                    <input
                        class="form-control"
                        placeholder="To Date"
                        name="dp"
                       
                        ngbDatepicker
                        #d2="ngbDatepicker"
                        [maxDate]="maxDate"
                        value="{{model2}}" id="toDate" (dateSelect)="onDateSelecttodate($event)"   name="ToDate"   formControlName="ToDate"
                    />
                   
            <button class="btn btn-outline-secondary bi bi-calendar3" (click)="d2.toggle()" type="button"></button> 
                </div></div>
                
               
            <!-- <div class="input-group col-md-4 mb-4">
                <input type="date" class="form-control" value="{{today}}"   name="ToDate"   formControlName="ToDate"
                    placeholder="To Date">
              
           
            </div> -->
            <div class="input-group col-md-3 mb-4">
                <input type="text" class="form-control" name ="FirstName"  formControlName="FirstName"
                    placeholder="Name">
              
           
            </div>
            
            <div class="input-group col-md-3 mb-4">
                <input type="text" class="form-control" name="MobileNumber"   formControlName="MobileNumber"
                    placeholder="Mobile Number">
              
           
            </div>
            
            <!-- <div class="input-group col-md-3 mb-4">
                <input type="text" class="form-control" name="FromDate"  id="FromDate" formControlName="FromDate"
                    placeholder="From Date">
              
           
            </div> -->
            <!-- <div class="input-group col-md-3 mb-4">
                <input type="text" class="form-control" name="ToDate"  id="ToDate" formControlName="ToDate"
                    placeholder="To Date">
              
           
            </div> -->
            <div  class="col-md-12" style="text-align: right;">
                <button type="submit"  
                
    
                class="btn btn-primary waves-effect waves-light" id="btnSave" >
                    Search
                  
                </button>&nbsp;
                <button type="reset" (click)="resetdates()"  id="reset" class="btn btn-danger waves-effect waves-light">
                    Clear
                </button>
            </div>
            
            </div>
        
    <div>
        Total Patients : {{rowscount}}
    </div>
            <div   class="row d-flex justify-content-center" >
    
                <table id="tblfacility"  class="styled-table" style="margin-top: 0px;">
                    <thead>
                        <tr>
                            <th style="width: 60px;padding-left: 10px;" >S.No</th>
                            <th>Patient MRN</th>
                            <th>Name</th>
                            <th>Age/Gender</th>
                            <th>OP ID</th>
                            <th>Mobile Number</th>
                            <th>Date Of Visit</th>
                            </tr>
                    </thead>
                   <tbody class="as">
                   
                    <tr *ngFor="let i=index  let rowlist of patientList | paginate: { itemsPerPage: 50, currentPage: p }">
                        <td style="width:60px; padding-left: 10px;" >{{i+1}}</td>
                        <td >{{rowlist.patientMrn}}</td>
                        <td>{{rowlist.name}}</td>
                        <td>{{rowlist.age}}Y / {{rowlist.gender}}</td> 
                        <td>{{rowlist.opId}}</td>
                        <td>{{rowlist.mobileNumber}}</td> 
                        <td>{{rowlist.dateOfVisit}}</td>
                       
                       
                    </tr>
                    <tr *ngIf=norecords>
                        <td>No Records Found</td>
    
                    </tr>
                   </tbody>
                   <tfoot>
                    <tr><td> <pagination-controls (pageChange)="p = $event"></pagination-controls></td></tr>
                   </tfoot>
                </table>
                </div>
    
    
        </form>
    </div>
    